CREATE TABLE CHASSI(
    ID_CHASSI INTEGER PRIMARY KEY,
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE
);

CREATE TABLE BOLETIM_SERVICO(
    ID_BOLETIM VARCHAR(50) PRIMARY KEY,
    DESCRICAO VARCHAR(100),
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE
);

CREATE TABLE ITEM(
    ID_ITEM INTEGER PRIMARY KEY,
    NOME VARCHAR(100),
    CATEGORIA VARCHAR(100),
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE
);

CREATE TABLE LOGICA_BOLETIM(
    ID_LOGICA INTEGER PRIMARY KEY,
    INPUT1 VARCHAR(50),
    OPERACAO CHAR (3),
    INPUT2 VARCHAR(50),
    DEPENDENCIA INTEGER,
    ID_ITEM INTEGER,
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE,
    FOREIGN KEY (INPUT1) REFERENCES BOLETIM_SERVICO (ID_BOLETIM),
    FOREIGN KEY (INPUT2) REFERENCES BOLETIM_SERVICO (ID_BOLETIM),
    FOREIGN KEY (DEPENDENCIA) REFERENCES LOGICA_BOLETIM (ID_LOGICA),
    FOREIGN KEY (ID_ITEM) REFERENCES ITEM (ID_ITEM)
);

CREATE TABLE LOGICA_FABRICA(
    ID_LOGICA INTEGER PRIMARY KEY,
    ID_ITEM INTEGER,
    CHASSI_MINIMO VARCHAR(50),
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE,
    FOREIGN KEY (ID_ITEM) REFERENCES ITEM (ID_ITEM)
);

CREATE TABLE CHASSI_BOLETIM(
    ID_CHASSI INTEGER,
    ID_BOLETIM VARCHAR(50),
    STATUS VARCHAR(50),
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE,
    PRIMARY KEY (ID_CHASSI, ID_BOLETIM),
    FOREIGN KEY (ID_CHASSI) REFERENCES CHASSI (ID_CHASSI),
    FOREIGN KEY (ID_BOLETIM) REFERENCES BOLETIM_SERVICO (ID_BOLETIM)
);

CREATE TABLE CHASSI_ITEM(
    ID_CHASSI INTEGER,
    ID_ITEM INTEGER,
    INSTALADO NUMERIC(1),
    DATA_INSTALACAO TIMESTAMP DEFAULT SYSDATE,
    PRIMARY KEY (ID_CHASSI, ID_ITEM),
    FOREIGN KEY (ID_CHASSI) REFERENCES CHASSI (ID_CHASSI),
    FOREIGN KEY (ID_ITEM) REFERENCES ITEM (ID_ITEM)
);

CREATE TABLE MUDANCAS (
    ID_MUDANCA INTEGER PRIMARY KEY,
    DATA_REGISTRO TIMESTAMP DEFAULT SYSDATE,
    TABELA_MODIFICADA VARCHAR(100),
    ID_REGISTRO_MODIFICADO INTEGER,
    CAMPO_MODIFICADO VARCHAR(100),
    VALOR_ANTERIOR VARCHAR(100),
    VALOR_NOVO VARCHAR(100),
    ID_USUARIO INTEGER
);